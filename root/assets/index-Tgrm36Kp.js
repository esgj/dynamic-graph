var f=Object.defineProperty;var m=(i,e,t)=>e in i?f(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var o=(i,e,t)=>(m(i,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=t(n);fetch(n.href,s)}})();class g{constructor(e,t){o(this,"p1");o(this,"p2");this.p1=e,this.p2=t}equals(e){return e.p1.equals(this.p1)&&e.p2.equals(this.p2)||e.p1.equals(this.p2)&&e.p2.equals(this.p1)}draw(e){e.strokeStyle="#27f",e.beginPath(),e.moveTo(this.p1.x,this.p1.y),e.lineTo(this.p2.x,this.p2.y),e.stroke()}}class y{constructor(e,t){o(this,"points",[]);o(this,"segments",[]);o(this,"maxSegmentDistance",Number.MAX_SAFE_INTEGER);this.points=e,t&&(this.maxSegmentDistance=t)}addPoint(e){this.points.push(e)}tryAddSegment(e){this.doesSegmentExist(e)||this.segments.push(e)}generateSegments(){this.removeSegments();for(let e=0;e<this.points.length;e++)for(let t=0;t<this.points.length;t++)if(e!=t&&this.points[e].getDistance(this.points[t])<this.maxSegmentDistance){let r=new g(this.points[e],this.points[t]);this.tryAddSegment(r)}}removeSegments(){for(const e of this.segments)e.p1.getDistance(e.p2)>this.maxSegmentDistance&&this.segments.splice(this.segments.indexOf(e))}doesSegmentExist(e){for(const t of this.segments)if(t.equals(e))return!0;return!1}render(e){e.clearRect(0,0,window.innerWidth,window.innerHeight),this.generateSegments();for(const t of this.points)t.draw(e);for(const t of this.segments)t.draw(e)}}class w{constructor(e,t){o(this,"x");o(this,"y");this.x=e,this.y=t}}class a{constructor(e,t){o(this,"x",0);o(this,"y",0);o(this,"vector");this.x=e,this.y=t,this.vector=new w(Math.random()*2,Math.random()*2)}equals(e){return this.x==e.x&&this.y==e.y}getDistance(e){return Math.hypot(this.x-e.x,this.y-e.y)}calcNewPosition(){this.x+=this.vector.x,this.y+=this.vector.y,this.y>=window.innerHeight&&(this.vector.y*=-1),this.x>=window.innerWidth&&(this.vector.x*=-1),this.x<=0&&(this.vector.x=Math.abs(this.vector.x)),this.y<=0&&(this.vector.y=Math.abs(this.vector.y))}draw(e,t={size:15}){this.calcNewPosition();let r=t.size/2;e.beginPath(),e.arc(this.x,this.y,r,0,Math.PI*2),e.fillStyle="#27f",e.fill()}}let c=document.createElement("canvas");c.height=window.innerHeight;c.width=window.innerWidth;c.style.backgroundColor="#000";var u;(u=document.querySelector("#app"))==null||u.appendChild(c);let d=c.getContext("2d"),x=new a(100,100),S=new a(200,200),v=new a(500,200);const M=window.innerWidth/5;let h=new y([x,S,v],M);window.addEventListener("click",()=>{let i=Math.floor(Math.random()*window.innerWidth),e=Math.floor(Math.random()*window.innerHeight);h.addPoint(new a(i,e))});function q(i){return i==0?0:i*(i-1)/2}function p(){document.querySelector("#nodes").innerHTML=`Nodes: ${h.points.length}`,document.querySelector("#connections").innerHTML=`Connections: ${h.segments.length}`,document.querySelector("#max-connections").innerHTML=`Max number of connections possible: ${q(h.points.length)}`,d&&h.render(d),requestAnimationFrame(p)}p();
